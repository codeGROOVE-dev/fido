# gocachemark Results

```
Command: gocachemark -caches multicache,otter,clock,theine,sieve,freelru-sync -outdir /Users/t/dev/r2r/multicache/benchmarks
Environment: darwin/arm64, 16 CPUs, go1.25.4
```

## Hit Rate Benchmarks

### CDN

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 56.70% | 57.81% | 58.77% | 59.67% | 60.55% | 58.70% |
| sieve         | 55.63% | 56.95% | 58.25% | 59.30% | 60.59% | 58.14% |
| clock         | 55.09% | 56.68% | 58.14% | 59.42% | 60.57% | 57.98% |
| freelru-sync  | 54.90% | 56.52% | 57.94% | 59.35% | 60.53% | 57.85% |
| otter         | 54.68% | 55.25% | 55.98% | 57.21% | 59.00% | 56.42% |
| theine        | 54.37% | 55.29% | 55.41% | 55.81% | 59.29% | 56.03% |

  winner: multicache (+1.0% vs sieve)

### Meta

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 60.02% | 67.88% | 74.38% | 79.70% | 83.38% | 73.07% |
| theine        | 57.07% | 64.84% | 70.52% | 75.02% | 81.30% | 69.75% |
| sieve         | 52.10% | 61.56% | 70.02% | 77.17% | 82.45% | 68.66% |
| freelru-sync  | 50.93% | 59.92% | 69.44% | 77.58% | 83.12% | 68.20% |
| clock         | 50.23% | 59.80% | 68.95% | 76.76% | 82.68% | 67.68% |
| otter         | 34.45% | 44.28% | 62.22% | 74.06% | 80.58% | 59.12% |

  winner: multicache (+4.8% vs theine)

### Zipf

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| theine        | 63.12% | 74.12% | 87.05% | 95.01% | 95.01% | 82.86% |
| multicache    | 62.13% | 73.13% | 87.29% | 95.01% | 95.01% | 82.52% |
| sieve         | 61.56% | 73.07% | 87.00% | 95.01% | 95.01% | 82.33% |
| otter         | 61.28% | 73.33% | 86.66% | 95.01% | 95.01% | 82.26% |
| clock         | 56.54% | 70.48% | 86.60% | 95.01% | 95.01% | 80.73% |
| freelru-sync  | 55.57% | 69.55% | 86.11% | 95.01% | 95.01% | 80.25% |

  winner: theine (+0.4% vs multicache)

### Twitter

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 82.36% | 83.86% | 85.00% | 85.96% | 86.77% | 84.79% |
| sieve         | 80.97% | 82.96% | 84.60% | 86.08% | 86.77% | 84.28% |
| freelru-sync  | 80.37% | 82.56% | 84.50% | 86.18% | 86.77% | 84.08% |
| clock         | 80.03% | 82.28% | 84.26% | 86.00% | 86.77% | 83.87% |
| otter         | 79.60% | 81.47% | 83.93% | 85.73% | 86.77% | 83.50% |
| theine        | 80.14% | 81.59% | 82.56% | 84.18% | 86.77% | 83.05% |

  winner: multicache (+0.6% vs sieve)

### Wikipedia

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 21.67% | 25.62% | 30.21% | 35.25% | 40.31% | 30.61% |
| theine        | 21.15% | 25.10% | 29.56% | 34.92% | 40.50% | 30.25% |
| sieve         | 19.61% | 23.92% | 29.16% | 34.83% | 40.95% | 29.69% |
| otter         | 19.00% | 22.74% | 27.80% | 33.65% | 39.28% | 28.49% |
| clock         | 15.46% | 19.36% | 24.45% | 31.15% | 38.93% | 25.87% |
| freelru-sync  | 15.08% | 19.02% | 24.07% | 30.66% | 38.43% | 25.45% |

  winner: multicache (+1.2% vs theine)

### Thesios Block

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| clock         | 17.21% | 17.55% | 17.83% | 18.17% | 18.53% | 17.86% |
| multicache    | 17.11% | 17.58% | 17.86% | 18.16% | 18.54% | 17.85% |
| freelru-sync  | 17.23% | 17.52% | 17.77% | 18.09% | 18.55% | 17.83% |
| sieve         | 16.81% | 17.32% | 17.89% | 18.20% | 18.53% | 17.75% |
| otter         | 15.83% | 16.20% | 16.80% | 17.49% | 18.50% | 16.96% |
| theine        | 14.79% | 15.69% | 16.44% | 17.35% | 18.52% | 16.56% |

  winner: clock (+0.1% vs multicache)

### Thesios File

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| sieve         | 86.99% | 88.10% | 88.38% | 88.38% | 88.38% | 88.04% |
| multicache    | 87.03% | 88.01% | 88.38% | 88.38% | 88.38% | 88.04% |
| clock         | 86.87% | 88.05% | 88.38% | 88.38% | 88.38% | 88.01% |
| freelru-sync  | 87.06% | 87.80% | 88.38% | 88.38% | 88.38% | 88.00% |
| otter         | 85.97% | 87.73% | 88.38% | 88.38% | 88.38% | 87.77% |
| theine        | 80.05% | 86.95% | 88.38% | 88.38% | 88.38% | 86.43% |

  winner: sieve (+0.0% vs multicache)

### IBM Docker

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| clock         | 82.48% | 82.92% | 83.22% | 83.27% | 83.27% | 83.03% |
| freelru-sync  | 82.36% | 82.85% | 83.15% | 83.27% | 83.27% | 82.98% |
| multicache    | 82.17% | 82.93% | 83.19% | 83.27% | 83.27% | 82.97% |
| sieve         | 81.74% | 83.01% | 83.22% | 83.27% | 83.27% | 82.90% |
| otter         | 80.65% | 81.76% | 82.79% | 83.27% | 83.27% | 82.35% |
| theine        | 80.67% | 81.66% | 82.72% | 83.27% | 83.27% | 82.32% |

  winner: clock (+0.1% vs freelru-sync)

### Tencent Photo

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 13.84% | 16.19% | 19.21% | 22.99% | 26.83% | 19.81% |
| sieve         | 12.80% | 15.09% | 18.15% | 22.51% | 26.96% | 19.10% |
| theine        | 13.34% | 15.34% | 17.50% | 20.19% | 23.56% | 17.98% |
| clock         |  9.89% | 13.53% | 17.60% | 21.88% | 26.16% | 17.81% |
| freelru-sync  |  9.64% | 13.20% | 17.30% | 21.62% | 25.92% | 17.54% |
| otter         | 12.27% | 14.40% | 16.76% | 19.66% | 22.92% | 17.20% |

  winner: multicache (+3.7% vs sieve)

## Latency Benchmarks

### String Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc | Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|--------|
| clock         |     15 |         0 |     22 |         0 |          98 |              2 |     18 |
| multicache    |     12 |         0 |     26 |         0 |         123 |              0 |     19 |
| freelru-sync  |     24 |         0 |     24 |         0 |          36 |              0 |     24 |
| sieve         |     22 |         0 |     44 |         0 |         188 |              3 |     33 |
| otter         |     36 |         0 |    140 |         1 |         161 |              1 |     88 |
| theine        |     83 |         1 |    116 |         0 |         196 |              0 |    100 |

  winner: clock (+2.7% vs multicache)

### Int Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc | Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|--------|
| multicache    |      9 |         0 |     25 |         0 |          98 |              0 |     17 |
| otter         |     35 |         0 |    134 |         1 |         155 |              1 |     84 |
| theine        |     78 |         1 |    110 |         0 |         185 |              1 |     94 |

  winner: multicache (+397.1% vs otter)

### GetOrSet

| Cache         | GetOrSet ns | GetOrSet alloc |
|---------------|-------------|----------------|
| multicache    |          15 |              0 |
| otter         |          56 |              1 |

  winner: multicache (+273.3% vs otter)

## Throughput Benchmarks

### String Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| otter         |  19.06M   | 134.83M   | 312.79M   | 308.30M   | 193.74M   |
| theine        |   9.00M   | 127.99M   | 208.71M   | 209.84M   | 138.89M   |
| multicache    |  42.01M   | 123.15M   | 135.55M   | 137.28M   | 109.50M   |
| sieve         |  34.22M   |   6.35M   |   6.33M   |   6.75M   |  13.41M   |
| clock         |  34.46M   |   6.22M   |   5.44M   |   6.06M   |  13.04M   |
| freelru-sync  |  23.33M   |   6.64M   |   5.95M   |   7.26M   |  10.79M   |

  winner: otter (+39.5% vs theine)

### String Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  21.72M   |  45.53M   |  38.75M   |  41.26M   |  36.81M   |
| freelru-sync  |  23.30M   |   6.37M   |   5.78M   |   6.75M   |  10.55M   |
| clock         |  24.18M   |   5.94M   |   4.79M   |   6.00M   |  10.23M   |
| sieve         |  15.28M   |   5.14M   |   4.83M   |   4.86M   |   7.53M   |
| theine        |   4.96M   |   4.47M   |   3.46M   |   2.83M   |   3.93M   |
| otter         |   5.94M   |   2.96M   |   2.67M   |   2.77M   |   3.58M   |

  winner: multicache (+248.8% vs freelru-sync)

### Int Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| otter         |  25.67M   | 168.92M   | 413.97M   | 414.62M   | 255.79M   |
| theine        |  10.91M   | 163.04M   | 278.09M   | 177.58M   | 157.41M   |
| multicache    |  91.40M   | 136.52M   | 136.33M   | 137.94M   | 125.55M   |

  winner: otter (+62.5% vs theine)

### Int Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  36.97M   |  59.43M   |  41.34M   |  42.91M   |  45.16M   |
| theine        |   6.64M   |   4.79M   |   3.92M   |   3.31M   |   4.67M   |
| otter         |   6.63M   |   2.96M   |   2.69M   |   2.77M   |   3.76M   |

  winner: multicache (+867.7% vs theine)

### GetOrSet

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| otter         |  12.25M   |  88.80M   | 169.72M   | 168.98M   | 109.94M   |
| multicache    |  41.58M   | 107.65M   | 130.18M   | 126.96M   | 101.59M   |

  winner: otter (+8.2% vs multicache)

## Memory Benchmarks

Baseline (map[string][]byte): 35.82 MB

| Cache         | Items Stored | Memory (MB) | Overhead vs map (bytes/item) |
|---------------|--------------|-------------|------------------------------|
| freelru-sync  |        32768 |       35.19 |                          -20 |
| otter         |        32768 |       36.28 |                           14 |
| clock         |        32768 |       37.00 |                           37 |
| theine        |        32768 |       38.48 |                           84 |
| sieve         |        32768 |       39.53 |                          118 |
| multicache    |        32768 |       39.56 |                          119 |

  winner: freelru-sync (+3.1% vs otter)

## Overall Rankings

| Rank | Cache         | Score | Gold | Silver | Bronze |
|------|---------------|-------|------|--------|--------|
|    1 | multicache    |   142 |    9 |      5 |      3 |
|    2 | otter         |    88 |    3 |      3 |      1 |
|    3 | theine        |    74 |    1 |      5 |      2 |
|    4 | clock         |    70 |    3 |      0 |      4 |
|    5 | sieve         |    69 |    1 |      3 |      3 |
|    6 | freelru-sync  |    60 |    1 |      2 |      3 |

