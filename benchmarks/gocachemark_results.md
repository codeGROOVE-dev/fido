# gocachemark Results

```
Command: gocachemark -caches multicache,otter,clock,theine,sieve,freelru-sync -outdir /Users/t/dev/r2r/multicache/benchmarks
Environment: darwin/arm64, 16 CPUs, go1.25.4
```

## Hit Rate Benchmarks

### CDN

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 56.70% | 57.83% | 58.78% | 59.69% | 60.56% | 58.713% |
| sieve         | 55.63% | 56.95% | 58.25% | 59.30% | 60.59% | 58.143% |
| clock         | 55.09% | 56.68% | 58.14% | 59.42% | 60.57% | 57.979% |
| freelru-sync  | 54.90% | 56.52% | 57.94% | 59.35% | 60.53% | 57.848% |
| otter         | 54.74% | 55.38% | 56.02% | 57.25% | 59.02% | 56.483% |
| theine        | 54.36% | 55.24% | 55.33% | 55.74% | 59.28% | 55.989% |

  winner: multicache (+0.980% vs sieve)

### Meta

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 60.16% | 67.97% | 74.45% | 79.79% | 83.43% | 73.160% |
| theine        | 57.08% | 64.86% | 70.49% | 75.08% | 81.24% | 69.750% |
| sieve         | 52.10% | 61.56% | 70.02% | 77.17% | 82.45% | 68.659% |
| freelru-sync  | 50.93% | 59.92% | 69.44% | 77.58% | 83.12% | 68.198% |
| clock         | 50.23% | 59.80% | 68.95% | 76.76% | 82.68% | 67.683% |
| otter         | 34.48% | 43.01% | 64.00% | 73.89% | 80.56% | 59.187% |

  winner: multicache (+4.888% vs theine)

### Zipf

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 64.00% | 74.39% | 88.05% | 95.01% | 95.01% | 83.293% |
| theine        | 63.19% | 74.20% | 87.14% | 95.01% | 95.01% | 82.912% |
| sieve         | 61.56% | 73.07% | 87.00% | 95.01% | 95.01% | 82.331% |
| otter         | 61.60% | 73.39% | 86.61% | 95.01% | 95.01% | 82.325% |
| clock         | 56.54% | 70.48% | 86.60% | 95.01% | 95.01% | 80.729% |
| freelru-sync  | 55.57% | 69.55% | 86.11% | 95.01% | 95.01% | 80.251% |

  winner: multicache (+0.459% vs theine)

### Twitter

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 82.38% | 83.88% | 85.02% | 85.98% | 86.77% | 84.807% |
| sieve         | 80.97% | 82.96% | 84.60% | 86.08% | 86.77% | 84.277% |
| freelru-sync  | 80.37% | 82.56% | 84.50% | 86.18% | 86.77% | 84.077% |
| clock         | 80.03% | 82.28% | 84.26% | 86.00% | 86.77% | 83.868% |
| otter         | 79.56% | 81.49% | 83.88% | 85.73% | 86.77% | 83.487% |
| theine        | 80.25% | 81.61% | 82.57% | 84.17% | 86.77% | 83.074% |

  winner: multicache (+0.629% vs sieve)

### Wikipedia

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 21.77% | 25.70% | 30.28% | 35.33% | 40.40% | 30.695% |
| theine        | 21.20% | 24.89% | 29.69% | 34.83% | 40.52% | 30.227% |
| sieve         | 19.61% | 23.92% | 29.16% | 34.83% | 40.95% | 29.694% |
| otter         | 18.97% | 22.77% | 27.78% | 33.67% | 39.46% | 28.527% |
| clock         | 15.46% | 19.36% | 24.45% | 31.15% | 38.93% | 25.871% |
| freelru-sync  | 15.08% | 19.02% | 24.07% | 30.66% | 38.43% | 25.452% |

  winner: multicache (+1.548% vs theine)

### Thesios Block

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| clock         | 17.21% | 17.55% | 17.83% | 18.17% | 18.53% | 17.861% |
| multicache    | 17.12% | 17.58% | 17.86% | 18.16% | 18.55% | 17.854% |
| freelru-sync  | 17.23% | 17.52% | 17.77% | 18.09% | 18.55% | 17.831% |
| sieve         | 16.81% | 17.32% | 17.89% | 18.20% | 18.53% | 17.749% |
| otter         | 15.86% | 16.19% | 16.74% | 17.47% | 18.49% | 16.949% |
| theine        | 14.78% | 15.70% | 16.49% | 17.34% | 18.52% | 16.567% |

  winner: clock (+0.035% vs multicache)

### Thesios File

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| sieve         | 86.99% | 88.10% | 88.38% | 88.38% | 88.38% | 88.044% |
| multicache    | 87.04% | 88.02% | 88.38% | 88.38% | 88.38% | 88.039% |
| clock         | 86.87% | 88.05% | 88.38% | 88.38% | 88.38% | 88.010% |
| freelru-sync  | 87.06% | 87.80% | 88.38% | 88.38% | 88.38% | 88.000% |
| otter         | 85.97% | 87.73% | 88.38% | 88.38% | 88.38% | 87.767% |
| theine        | 80.09% | 87.00% | 88.38% | 88.38% | 88.38% | 86.444% |

  winner: sieve (+0.006% vs multicache)

### IBM Docker

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| clock         | 82.48% | 82.92% | 83.22% | 83.27% | 83.27% | 83.034% |
| freelru-sync  | 82.36% | 82.85% | 83.15% | 83.27% | 83.27% | 82.983% |
| multicache    | 82.18% | 82.94% | 83.19% | 83.27% | 83.27% | 82.971% |
| sieve         | 81.74% | 83.01% | 83.22% | 83.27% | 83.27% | 82.902% |
| otter         | 80.62% | 81.75% | 82.80% | 83.27% | 83.27% | 82.343% |
| theine        | 80.67% | 81.66% | 82.72% | 83.27% | 83.27% | 82.318% |

  winner: clock (+0.061% vs freelru-sync)

### Tencent Photo

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 13.90% | 16.27% | 19.29% | 23.06% | 26.88% | 19.880% |
| sieve         | 12.80% | 15.09% | 18.15% | 22.51% | 26.96% | 19.099% |
| theine        | 13.32% | 15.36% | 17.55% | 20.15% | 23.55% | 17.984% |
| clock         |  9.89% | 13.53% | 17.60% | 21.88% | 26.16% | 17.811% |
| freelru-sync  |  9.64% | 13.20% | 17.30% | 21.62% | 25.92% | 17.538% |
| otter         | 12.27% | 14.37% | 16.79% | 19.70% | 22.96% | 17.218% |

  winner: multicache (+4.086% vs sieve)

## Latency Benchmarks

### String Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc |    Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|----------|
| multicache    |     11 |         0 |     25 |         0 |         150 |              1 |    18.000 |
| clock         |     16 |         0 |     21 |         0 |         102 |              2 |    18.500 |
| freelru-sync  |     23 |         0 |     23 |         0 |          36 |              0 |    23.000 |
| sieve         |     22 |         0 |     43 |         0 |         187 |              3 |    32.500 |
| otter         |     36 |         0 |    135 |         1 |         159 |              1 |    85.500 |
| theine        |     82 |         1 |    123 |         0 |         204 |              0 |   102.500 |

  winner: multicache (+2.778% vs clock)

### Int Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc |    Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|----------|
| multicache    |      8 |         0 |     23 |         0 |         122 |              2 |    15.500 |
| otter         |     33 |         0 |    134 |         1 |         153 |              1 |    83.500 |
| theine        |     78 |         1 |    109 |         0 |         183 |              0 |    93.500 |

  winner: multicache (+438.710% vs otter)

### GetOrSet

| Cache         | GetOrSet ns | GetOrSet alloc |
|---------------|-------------|----------------|
| multicache    |          12 |              0 |
| otter         |          56 |              1 |

  winner: multicache (+366.667% vs otter)

## Throughput Benchmarks

### String Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  42.34M   | 328.69M   | 534.37M   | 538.09M   | 360.87M   |
| otter         |  18.19M   | 151.27M   | 300.29M   | 308.17M   | 194.48M   |
| theine        |   8.77M   | 125.18M   | 204.76M   | 209.50M   | 137.05M   |
| sieve         |  34.26M   |   6.16M   |   5.90M   |   6.77M   |  13.27M   |
| clock         |  34.62M   |   6.06M   |   5.42M   |   5.97M   |  13.02M   |
| freelru-sync  |  22.16M   |   6.58M   |   6.01M   |   7.14M   |  10.47M   |

  winner: multicache (+85.556% vs otter)

### String Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  21.78M   |  42.14M   |  32.89M   |  34.66M   |  32.87M   |
| clock         |  28.09M   |   6.00M   |   5.30M   |   5.87M   |  11.31M   |
| freelru-sync  |  23.33M   |   6.31M   |   5.79M   |   6.53M   |  10.49M   |
| sieve         |  15.47M   |   5.07M   |   4.67M   |   4.87M   |   7.52M   |
| theine        |   4.99M   |   4.31M   |   3.56M   |   3.03M   |   3.97M   |
| otter         |   6.07M   |   2.82M   |   2.63M   |   2.66M   |   3.55M   |

  winner: multicache (+190.469% vs clock)

### Int Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  86.68M   | 658.43M   | 1064.96M   | 1093.91M   | 725.99M   |
| otter         |  25.70M   | 198.38M   | 421.95M   | 400.77M   | 261.70M   |
| theine        |  10.80M   | 106.57M   | 136.35M   | 169.22M   | 105.74M   |

  winner: multicache (+177.415% vs otter)

### Int Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  33.04M   |  51.94M   |  34.62M   |  35.36M   |  38.74M   |
| theine        |   6.30M   |   4.70M   |   3.35M   |   3.29M   |   4.41M   |
| otter         |   6.71M   |   2.69M   |   2.71M   |   2.74M   |   3.71M   |

  winner: multicache (+778.697% vs theine)

### GetOrSet

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  35.29M   | 218.11M   | 354.75M   | 380.97M   | 247.28M   |
| otter         |  10.54M   |  89.57M   | 147.16M   | 154.52M   | 100.45M   |

  winner: multicache (+146.181% vs otter)

## Memory Benchmarks

Baseline (map[string][]byte): 35.83 MB

| Cache         | Items Stored | Memory (MB) | Overhead vs map (bytes/item) |
|---------------|--------------|-------------|------------------------------|
| freelru-sync  |        32768 |       35.19 |                          -20 |
| otter         |        32768 |       36.32 |                           15 |
| clock         |        32768 |       37.02 |                           38 |
| multicache    |        32768 |       38.04 |                           70 |
| theine        |        32768 |       38.46 |                           83 |
| sieve         |        32768 |       39.54 |                          118 |

  winner: freelru-sync (+3.217% vs otter)

## Overall Rankings

| Rank | Cache         | Score | Gold | Silver | Bronze |
|------|---------------|-------|------|--------|--------|
|    1 | multicache    |   163 |   14 |      2 |      1 |
|    2 | otter         |    79 |    0 |      6 |      1 |
|    3 | clock         |    69 |    2 |      2 |      3 |
|    4 | sieve         |    68 |    1 |      3 |      3 |
|    5 | theine        |    66 |    0 |      4 |      4 |
|    6 | freelru-sync  |    58 |    1 |      1 |      4 |

